(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){e.exports=a(88)},52:function(e,t,a){},53:function(e,t,a){},71:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),c=(a(51),a(52),a(8)),s=a(10),i=a(12),m=a(11),u=(a(53),a(25)),d=a(20),h=a.n(d),p=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){return t.service.post("/signup",e)},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n})},this.logout=function(){return t.service.post("/logout")},this.isLoggedIn=function(){return t.service.get("/loggedin")},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api"),withCredentials:!0})},f=(a(71),a(9)),g=a(22),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=function(){n.authServices.logout().then((function(){return n.props.setTheUser(!1)})).then((function(){return n.props.history.push("/login")})).catch((function(e){return new Error(e)}))},n.authServices=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu"},r.a.createElement(g.a,{className:"flex-container"},r.a.createElement(f.b,{className:"to-link",to:"/"},"\xbfC\xf3mo funciona?"),r.a.createElement("div",null,this.props.loggedInHome?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"to-link",to:"/dashboard"},"Mi perfil"),r.a.createElement("button",{onClick:this.logout,className:"to-link",to:"/login"},"Cerrar Sesi\xf3n")):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"to-link",to:"/signup"},"Registrarme"),r.a.createElement(f.b,{className:"to-link",to:"/login"},"Iniciar sesi\xf3n"))))))}}]),a}(n.Component),v=(a(77),a(17)),b=a(26),N=function(e){return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{loggedInHome:e.loggedInUser,setTheUser:e.setTheUser}),r.a.createElement("main",{className:"homePage"},r.a.createElement(g.a,null,r.a.createElement(v.a,{as:"header"},r.a.createElement(b.a,{as:"article",md:6},r.a.createElement("figure",{className:"logo"},r.a.createElement("img",{src:"/imgs/home/logo-home.svg",alt:"Cuentame m\xe1s Logo"})),r.a.createElement("h1",null,"Construye tu portfolio de forma r\xe1pida y sencilla"),r.a.createElement("h5",null,"Porque no todas las empresas necesitan ver todo tu trabajo, usa ",r.a.createElement("strong",null,"Cu\xe9ntame M\xe1s"),"."),r.a.createElement("p",null,"Cu\xe9ntame M\xe1s te proporcinona las herramientas que necesitas para presentar portfolios espec\xedficos para la empresa en la que est\xe1s interesado en aplicar.."),r.a.createElement("p",{className:"features"},"Totalmente gratis | No pierdas el tiempo con programas de dise\xf1o"),r.a.createElement(f.b,{className:"myButton",to:"/login"},"crear portfolio")),r.a.createElement(b.a,{as:"article",md:6},r.a.createElement("figure",{className:"imgHeader"},r.a.createElement("img",{src:"/imgs/home/img-header.svg",alt:"Cuentame m\xe1s"})))),r.a.createElement(v.a,{as:"section",className:"infoSection"},r.a.createElement(b.a,{md:5,as:"article"},r.a.createElement("figure",{className:"imgInfo"},r.a.createElement("img",{src:"/imgs/home/mac.svg",alt:"Cuentame m\xe1s - Computer"}))),r.a.createElement(b.a,{md:7,as:"article"},r.a.createElement("h2",null,"Crea portfolios espec\xedficos"),r.a.createElement("h5",null,"Dise\xf1a un portfolio nuevo en minutos."),r.a.createElement("p",null,"Simplemente tienes que a\xf1adir contenido que previamente hayas a\xf1adido a tu perfil, elige una plantilla y luego personal\xedzala como mejor se adapte a las necesidades de la oferta de trabajo que te interesa."))),r.a.createElement(v.a,{as:"section",className:"howWorks"},r.a.createElement("h2",null,"\xbfC\xf3mo funciona?"),r.a.createElement("article",{className:"groupCards"},r.a.createElement("article",{className:"eachCard"},r.a.createElement("figure",{className:"icons"},r.a.createElement("img",{src:"/imgs/ic/ic-profile.svg",alt:"Cuentame m\xe1s - Computer"})),r.a.createElement("h4",null,"Reg\xedstrate"),r.a.createElement("p",null,"Para empezar a montar tus portfolios, es necesario que te registres.")),r.a.createElement("article",{className:"eachCard"},r.a.createElement("figure",{className:"icons"},r.a.createElement("img",{src:"/imgs/ic/ic-cv.svg",alt:"Cuentame m\xe1s - Computer"})),r.a.createElement("h4",null,"A\xf1ade"),r.a.createElement("p",null,"Para empezar a montar tus portfolios, es necesario que te registres.")),r.a.createElement("article",{className:"eachCard"},r.a.createElement("figure",{className:"icons"},r.a.createElement("img",{src:"/imgs/ic/ic-addnew.svg",alt:"Cuentame m\xe1s - Computer"})),r.a.createElement("h4",null,"Portfolios"),r.a.createElement("p",null,"Para empezar a montar tus portfolios, es necesario que te registres.")),r.a.createElement("article",{className:"eachCard"},r.a.createElement("figure",{className:"icons"},r.a.createElement("img",{src:"/imgs/ic/ic-link.svg",alt:"Cuentame m\xe1s - Computer"})),r.a.createElement("h4",null,"Comparte"),r.a.createElement("p",null,"Para empezar a montar tus portfolios, es necesario que te registres."))),r.a.createElement(f.b,{className:"myButton",to:"/login"},"\xa1empezar!")))),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 Copyright Cu\xe9ntameM\xe1s 2020")))},C=a(16),O=a(2),S=(a(78),a(15)),j=a(3),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=Object(O.a)({},n.state.loginInfo),a=e.target,r=a.name,l=a.value;t=Object(O.a)(Object(O.a)({},t),{},Object(C.a)({},r,l)),n.setState({loginInfo:t})},n.handleSubmit=function(e){e.preventDefault(),n.signupService.signup(n.state.loginInfo).then((function(e){n.props.setTheUser(e.data),n.props.history.push("/login")})).catch((function(e){return console.log(e)}))},n.state={loginInfo:{username:"",email:"",password:""},errorMessage:""},n.signupService=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(g.a,{className:"signup-page"},r.a.createElement("h4",null,"\xa1Quiero registrarme!"),r.a.createElement(j.a,{onSubmit:this.handleSubmit,className:"my-form"},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Username"),r.a.createElement(j.a.Control,{className:"form-input",name:"username",onChange:this.handleInputChange,value:this.state.username,type:"text",placeholder:"Introduce un nombre de usuario"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Correo electr\xf3nico"),r.a.createElement(j.a.Control,{className:"form-input",name:"email",onChange:this.handleInputChange,value:this.state.email,type:"email",placeholder:"Introduce un correo electr\xf3nico"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Contrase\xf1a"),r.a.createElement(j.a.Control,{className:"form-input",name:"password",onChange:this.handleInputChange,value:this.state.password,type:"password",placeholder:"Contrase\xf1a"})),r.a.createElement(S.a,{className:"form-button",type:"submit"},"Crear Usuario")),r.a.createElement("p",null,"\xbfYa tienes cuenta?"," ",r.a.createElement(f.b,{className:"mini-link",to:"/login"},"Iniciar Sesi\xf3n"))))}}]),a}(n.Component),k=(a(80),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=Object(O.a)({},n.state.loginInfo),a=e.target,r=a.name,l=a.value;t=Object(O.a)(Object(O.a)({},t),{},Object(C.a)({},r,l)),n.setState({loginInfo:t})},n.handleSubmit=function(e){e.preventDefault(),n.signupService.login(n.state.loginInfo).then((function(e){n.props.setTheUser(e.data),n.props.history.push("/dashboard")})).catch((function(e){return console.log(e)}))},n.state={loginInfo:{username:"",password:""},errorMessage:""},n.signupService=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(g.a,{className:"login-page"},r.a.createElement("h4",null,"\xa1Iniciar sesi\xf3n!"),r.a.createElement(j.a,{onSubmit:this.handleSubmit,className:"my-form"},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Username"),r.a.createElement(j.a.Control,{className:"form-input",name:"username",onChange:this.handleInputChange,type:"text",placeholder:"Introduce un nombre de usuario"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Contrase\xf1a"),r.a.createElement(j.a.Control,{className:"form-input",name:"password",onChange:this.handleInputChange,type:"password",placeholder:"Contrase\xf1a"})),r.a.createElement(S.a,{className:"form-button",type:"submit"},"Iniciar sesi\xf3n")),r.a.createElement("p",null,"\xbfNo tienes cuenta?"," ",r.a.createElement(f.b,{className:"mini-link",to:"/signup"},"Iniciar sesi\xf3n"))))}}]),a}(n.Component)),I=(a(81),function e(){var t=this;Object(c.a)(this,e),this.findMyCvs=function(e){return t.service.get("/findMyCvs",e)},this.findOne=function(e){return t.service.get("/findOneCv",e)},this.findThisCv=function(e){return t.service.get("/findThisCv/".concat(e))},this.editThisCv=function(e,a){return t.service.post("/editCv/".concat(e),a)},this.upload=function(e){return t.service.post("/upload",e)},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api","/cv"),withCredentials:!0})}),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=function(){n.authServices.logout().then((function(){return n.props.setTheUser(!1)})).then((function(){return n.props.history.push("/login")})).catch((function(e){return new Error(e)}))},n.getMyCv=function(){n.cvService.findMyCvs(n.props.loggedInDash._id).then((function(e){return n.setState(Object(O.a)(Object(O.a)({},n.state),{},{cv:e.data}))})).catch((function(e){return new Error(e)}))},n.componentDidMount=function(){n.getMyCv()},n.state={cv:""},n.authServices=new p,n.cvService=new I,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"latNavBar"},r.a.createElement("div",{className:"personalInfo"},r.a.createElement("figure",{className:"logoDash"},r.a.createElement("img",{src:"/imgs/dashboard/logo-dash.svg",alt:"Cuentame m\xe1s"})),r.a.createElement("figure",{className:"logoProfile"},this.props.loggedInDash.avatar?r.a.createElement("img",{src:this.props.loggedInDash.avatar,alt:"Cuentame m\xe1s"}):r.a.createElement("img",{src:"/imgs/ic/ic-signup.svg",alt:"Cuentame m\xe1s"})),this.props.loggedInDash.name?r.a.createElement("p",{className:"dashName"},"".concat(this.props.loggedInDash.name," ").concat(this.props.loggedInDash.lastName)):r.a.createElement("p",{className:"dashName"},"A\xf1ade nombre"),r.a.createElement("p",{className:"dashEmail"},this.props.loggedInDash.email),r.a.createElement(f.b,{to:"/dashboard/profile",className:"myButton mini"},"Editar perfil")),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(f.b,{className:"dashLink",to:"/dashboard"},"dashboard ",r.a.createElement("img",{src:"/imgs/ic/ic-dashboard.svg",alt:""})),this.state.cv&&r.a.createElement(f.b,{className:"dashLink",to:"/dashboard/cv/".concat(this.state.cv[0]._id)},"experiencia ",r.a.createElement("img",{src:"/imgs/ic/ic-cv.svg",alt:""})),r.a.createElement(f.b,{className:"dashLink",to:"/dashboard/portfolio"},"portfolios ",r.a.createElement("img",{src:"/imgs/ic/ic-addnew.svg",alt:""}))),r.a.createElement("button",{className:"dashLink",onClick:this.logout},"Cerrar Sesi\xf3n ",r.a.createElement("img",{src:"/imgs/ic/ic-close.svg",alt:""}))))}}]),a}(n.Component),D=function e(){var t=this;Object(c.a)(this,e),this.editUser=function(e,a){return t.service.post("/updateUser/".concat(e),a)},this.upload=function(e){return t.service.post("/upload",e)},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api","/user"),withCredentials:!0})},T=(a(82),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleUpload=function(e){var t=new FormData;t.append("newAvatar",e.target.files[0]),console.log(e.target.files[0]),n.userService.upload(t).then((function(e){return n.setState(Object(O.a)(Object(O.a)({},n.state),{},{newAvatar:e.data.secure_url}))})).then((function(){return n.setState(Object(O.a)(Object(O.a)({},n.state),{},{avatar:n.state.newAvatar}))})).catch((function(e){return console.error(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(C.a)({},a,r))},n.submitEdits=function(e){e.preventDefault(),n.userService.editUser(n.props.loggedInDash._id,n.state).then((function(e){n.props.setTheUser(e.data)})).catch((function(e){return new Error(e)}))},n.state={username:n.props.loggedInDash.username,name:n.props.loggedInDash.name,lastName:n.props.loggedInDash.lastName,email:n.props.loggedInDash.email,phone:n.props.loggedInDash.phone,avatar:n.props.loggedInDash.avatar},n.userService=new D,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"profilePage"},r.a.createElement("h4",null,this.props.loggedInDash.username,", aqu\xed puedes editar tu perfil"),r.a.createElement("figure",{className:"profileImg"},this.props.loggedInDash.avatar?r.a.createElement("img",{src:this.props.loggedInDash.avatar,alt:"Cuentame m\xe1s"}):r.a.createElement("img",{src:"/imgs/ic/ic-signup.svg",alt:"Cuentame m\xe1s"})),r.a.createElement(j.a,{onSubmit:this.submitEdits},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Nombre de usuario"),r.a.createElement(j.a.Control,{name:"username",type:"text",onChange:this.handleChange,placeholder:this.props.loggedInDash.username,value:this.state.username})),r.a.createElement("input",{className:"form-upload",name:"newAvatar",type:"file",onChange:this.handleUpload}),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Email address"),r.a.createElement(j.a.Control,{name:"email",type:"email",onChange:this.handleChange,placeholder:this.props.loggedInDash.email,value:this.state.email})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Nombre"),r.a.createElement(j.a.Control,{name:"name",onChange:this.handleChange,type:"text",placeholder:this.props.loggedInDash.name,value:this.state.name})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Apellidos"),r.a.createElement(j.a.Control,{name:"lastName",onChange:this.handleChange,type:"text",placeholder:this.props.loggedInDash.lastName,value:this.state.lastName})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Tel\xe9fono"),r.a.createElement(j.a.Control,{name:"phone",onChange:this.handleChange,type:"text",placeholder:this.props.loggedInDash.phone,value:this.state.phone})),r.a.createElement(S.a,{variant:"primary",type:"submit"},"Guardar cambios"))))}}]),a}(n.Component)),M=a(13),U=function e(){var t=this;Object(c.a)(this,e),this.findMyPortfolios=function(e){return t.service.get("/findMyPortfolios",e)},this.createNew=function(e,a){return t.service.post("/newPortfolio/".concat(e),a)},this.deletePortfolio=function(e){return t.service.post("/delete/".concat(e))},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api","/portfolio"),withCredentials:!0})},x=(a(83),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getMyPortfolios=function(){n.portfolioService.findMyPortfolios(n.props.loggedInDash._id).then((function(e){return n.setState({portfolios:e.data})})).catch((function(e){return new Error(e)}))},n.deletePortfolio=function(e,t){n.portfolioService.deletePortfolio(t).then((function(){var t=Object(M.a)(n.state.portfolios);t.splice(e,1),n.setState(Object(O.a)(Object(O.a)({},n.state),{},{portfolios:t}))})).catch((function(e){return new Error(e)}))},n.componentDidMount=function(){n.getMyPortfolios()},n.state={portfolios:[]},n.portfolioService=new U,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"homeDash"},r.a.createElement(v.a,{as:"article",className:"welcomeBox"},r.a.createElement("div",null,r.a.createElement("h4",null,"Bienvenid@ ",this.props.loggedInUser.name),r.a.createElement("p",null,"Este es tu dashboard de usuario. En \xe9l encontrar\xe1s todos los portfolios creados hasta el momento."),r.a.createElement("p",null,'\xa1Recuerda a\xf1adir tus trabajos y trayectoria en la secci\xf3n "Experiencia" para tener el portfolio a la \xfaltima!')),r.a.createElement("figure",null,r.a.createElement("img",{src:"/imgs/dashboard/img-welcome.svg",alt:"Cuentame m\xe1s"})," ")),r.a.createElement(v.a,{as:"article",className:"homePortfolios"},r.a.createElement("h4",null,"Mis portfolios"),r.a.createElement(v.a,{as:"article",className:"everyPortfolio"},this.state.portfolios.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"eachPortfolio"},r.a.createElement(f.b,{key:a,to:"/sharing/".concat(t.url)},r.a.createElement("figure",null,r.a.createElement("img",{src:"/imgs/ic/ic-signup.svg",alt:""})),r.a.createElement("p",{className:"titlePortfolio"},t.title)),r.a.createElement("button",{onClick:function(){return e.deletePortfolio(a,t._id)}},"borrar")))})),r.a.createElement(f.b,{to:"/dashboard/portfolio"},r.a.createElement("div",{className:"eachPortfolio add"},r.a.createElement("figure",null,r.a.createElement("img",{src:"/imgs/ic/ic-addnew-portfolio.svg",alt:""})),r.a.createElement("p",{className:"addPortfolio"},"Nuevo Portfolio")))))))}}]),a}(n.Component)),P=function e(){var t=this;Object(c.a)(this,e),this.findJobs=function(e){return t.service.get("/getJobs/".concat(e))},this.findEducations=function(e){return t.service.get("/getEducations/".concat(e))},this.createJob=function(e,a){return t.service.post("/addJob/".concat(e),a)},this.createEducation=function(e,a){return t.service.post("/addEducation/".concat(e),a)},this.deleteInfo=function(e){return t.service.post("/delete/".concat(e))},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api","/extraInfo"),withCredentials:!0})},L=(a(84),a(45)),A=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getMyCv(),n.getMyJobs(),n.getMyEducations()},n.handleModal=function(e,t){return n.setState({modalShow:e,modalId:t})},n.displayModal=function(e){if(n.state.modalShow)switch(e){case"skills":return r.a.createElement(j.a,{className:"myForm",onSubmit:n.skillSubmit},r.a.createElement(j.a.Label,{className:"form-label"},"A\xf1adir Skill"),r.a.createElement(j.a.Control,{className:"form-input",name:"newSkill",onChange:n.handleSkill,type:"text",placeholder:"A\xf1adir Skill"}),r.a.createElement(S.a,{className:"form-button",type:"submit"},"A\xf1adir"));case"social":return r.a.createElement(j.a,{className:"myForm",onSubmit:n.socialSubmit},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"A\xf1adir Red Social"),r.a.createElement(j.a.Control,{className:"form-input",name:"newSocial",onChange:n.handleSocial,type:"text",placeholder:"A\xf1adir Red Social"})),r.a.createElement(S.a,{className:"form-button",type:"submit"},"A\xf1adir"));case"works":return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"form-upload",name:"newWork",type:"file",onChange:n.handleUpload}));case"education":return r.a.createElement(j.a,{className:"myForm",onSubmit:n.edSubmit},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Lugar de estudios"),r.a.createElement(j.a.Control,{className:"form-input",name:"place",onChange:n.handleEducationChange,type:"text",placeholder:"Lugar de estudios"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Duraci\xf3n"),r.a.createElement(j.a.Control,{className:"form-input",name:"duration",onChange:n.handleEducationChange,type:"text",placeholder:"Pon un titulo nuevo a tu Cv"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"\xbfQu\xe9 aprendiste?"),r.a.createElement(j.a.Control,{className:"form-input",name:"experienceInfo",onChange:n.handleEducationChange,type:"text",placeholder:"Pon un titulo nuevo a tu Cv"})),r.a.createElement(S.a,{className:"form-button",type:"submit"},"A\xf1adir"));case"job":return r.a.createElement(j.a,{className:"myForm",onSubmit:n.jobSubmit},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Puesto en la empresa"),r.a.createElement(j.a.Control,{className:"form-input",name:"place",onChange:n.handleJobChange,type:"text",placeholder:"Lugar de estudios"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Duraci\xf3n"),r.a.createElement(j.a.Control,{className:"form-input",name:"duration",onChange:n.handleJobChange,type:"text",placeholder:"Pon un titulo nuevo a tu Cv"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,{className:"form-label"},"Cu\xe9ntanos tus tareas"),r.a.createElement(j.a.Control,{className:"form-input",name:"experienceInfo",onChange:n.handleJobChange,type:"text",placeholder:"Pon un titulo nuevo a tu Cv"})),r.a.createElement(S.a,{className:"form-button",type:"submit"},"A\xf1adir"));default:return r.a.createElement("h1",null,"\xa1Bug!")}},n.handleUpload=function(e){var t=new FormData;t.append("newWork",e.target.files[0]),console.log(e.target.files[0]),n.cvServices.upload(t).then((function(e){return n.setState(Object(O.a)(Object(O.a)({},n.state),{},{newWork:e.data.secure_url}))})).then((function(){return n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{whatIveDone:[].concat(Object(M.a)(n.state.cv.whatIveDone),[n.state.newWork])})})})).catch((function(e){return console.error(e)}))},n.handleSkill=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)(Object(O.a)({},n.state),{},Object(C.a)({},a,r)))},n.skillSubmit=function(e){e.preventDefault(),n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{skills:[].concat(Object(M.a)(n.state.cv.skills),[n.state.newSkill])})},(function(){return n.handleModal(!1)}))},n.handleSocial=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)(Object(O.a)({},n.state),{},Object(C.a)({},a,r)))},n.socialSubmit=function(e){e.preventDefault(),n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{socialMedia:[].concat(Object(M.a)(n.state.cv.socialMedia),[n.state.newSocial])})},(function(){return n.handleModal(!1)}))},n.handleEducationChange=function(e){var t=Object(O.a)({},n.state.edInfo),a=e.target,r=a.name,l=a.value;t=Object(O.a)(Object(O.a)({},t),{},Object(C.a)({},r,l)),n.setState({edInfo:t})},n.edSubmit=function(e){e.preventDefault(),n.infoServices.createEducation(n.id,n.state.edInfo).then((function(){return n.setState({eds:[].concat(Object(M.a)(n.state.eds),[n.state.edInfo])})})).then((function(){return n.handleModal(!1)})).catch((function(e){return new Error(e)}))},n.handleJobChange=function(e){var t=Object(O.a)({},n.state.jobInfo),a=e.target,r=a.name,l=a.value;t=Object(O.a)(Object(O.a)({},t),{},Object(C.a)({},r,l)),n.setState({jobInfo:t})},n.jobSubmit=function(e){e.preventDefault(),console.log(n.state.jobInfo),n.infoServices.createJob(n.id,n.state.jobInfo).then((function(){return n.setState({experience:[].concat(Object(M.a)(n.state.experience),[n.state.jobInfo])})})).then((function(){return n.handleModal(!1)})).catch((function(e){return new Error(e)}))},n.handleClose=function(e){n.handleModal(!1)},n.removeSkill=function(e){var t=Object(M.a)(n.state.cv.skills);t.splice(e,1),n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{skills:t})})},n.removeSocial=function(e){var t=Object(M.a)(n.state.cv.socialMedia);t.splice(e,1),n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{socialMedia:t})})},n.removeWork=function(e){var t=Object(M.a)(n.state.cv.whatIveDone);t.splice(e,1),n.setState({cv:Object(O.a)(Object(O.a)({},n.state.cv),{},{whatIveDone:t})})},n.removeEducation=function(e,t){n.infoServices.deleteInfo(t).then((function(){var t=Object(M.a)(n.state.eds);t.splice(e,1),n.setState(Object(O.a)(Object(O.a)({},n.state),{},{eds:t}))})).catch((function(e){return new Error(e)}))},n.removeJob=function(e,t){n.infoServices.deleteInfo(t).then((function(){var t=Object(M.a)(n.state.experience);t.splice(e,1),n.setState(Object(O.a)(Object(O.a)({},n.state),{},{experience:t}))})).catch((function(e){return new Error(e)}))},n.handleCv=function(e){e.preventDefault(),n.cvServices.editThisCv(n.id,n.state.cv).then((function(){return n.handleModal(!1)})).catch((function(e){return new Error(e)}))},n.state={modalShow:!1,modalId:"",cv:{socialMedia:[],skills:[],whatIveDone:[],title:"",owner:""},experience:[],eds:[],edInfo:{},jobInfo:{}},n.cvServices=new I,n.infoServices=new P,n.id=n.props.match.params.id,n}return Object(s.a)(a,[{key:"getMyCv",value:function(){var e=this;this.cvServices.findThisCv(this.id).then((function(t){return e.setState({cv:t.data})})).catch((function(e){return new Error(e)}))}},{key:"getMyJobs",value:function(){var e=this;this.infoServices.findJobs(this.id).then((function(t){return e.setState({experience:t.data})})).catch((function(e){return new Error(e)}))}},{key:"getMyEducations",value:function(){var e=this;this.infoServices.findEducations(this.id).then((function(t){e.setState({eds:t.data})})).catch((function(e){return new Error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"cvPage"},this.state.cv.owner&&r.a.createElement("h2",null,"\xa1Hola ",this.state.cv.owner.name,"!"),r.a.createElement("h6",null,"Aqu\xed puedes a\xf1adir y editar los elementos de tu CV"),r.a.createElement("section",{className:"everySection"},r.a.createElement("article",{className:"sectionHead"},r.a.createElement("h4",null,"My skills"),r.a.createElement("button",{onClick:function(){return e.handleModal(!0,"skills")},className:"myButton mini outlined"},"A\xf1adir")),r.a.createElement(v.a,{className:"skillSection",as:"article"},this.state.cv.skills.map((function(t,a){return r.a.createElement("article",{key:a,className:"skillTag"},r.a.createElement("p",null,t),r.a.createElement(S.a,{onClick:function(){return e.removeSkill(a)},className:"myButton mini outlined"},"Borrar"))})))),r.a.createElement("section",{className:"everySection"},r.a.createElement("article",{className:"sectionHead"},r.a.createElement("h4",null,"Mis redes Sociales"),r.a.createElement("button",{onClick:function(){return e.handleModal(!0,"social")},className:"myButton mini outlined"},"A\xf1adir")),r.a.createElement(v.a,{className:"socialSection",as:"article"},this.state.cv.socialMedia.map((function(t,a){return r.a.createElement("article",{key:a,className:"socialTag"},r.a.createElement("p",null,t),r.a.createElement(S.a,{onClick:function(){return e.removeSocial(a)},className:"myButton mini outlined"},"Borrar"))})))),r.a.createElement("section",{className:"everySection"},r.a.createElement("article",{className:"sectionHead"},r.a.createElement("h4",null,"Educaci\xf3n"),r.a.createElement("button",{onClick:function(){return e.handleModal(!0,"education")},className:"myButton mini outlined"},"A\xf1adir")),r.a.createElement(v.a,{as:"article",className:"infoSection"},this.state.eds&&this.state.eds.map((function(t,a){return r.a.createElement("article",{className:"infoTag",key:a},r.a.createElement("h6",null,t.place),r.a.createElement("p",null,t.duration),r.a.createElement("p",null,t.experienceInfo),r.a.createElement(S.a,{onClick:function(){return e.removeEducation(a,t._id)},className:"myButton mini outlined"},"Borrar"))})))),r.a.createElement("section",{className:"everySection"},r.a.createElement("article",{className:"sectionHead"},r.a.createElement("h4",null,"Experiencia laboral"),r.a.createElement("button",{onClick:function(){return e.handleModal(!0,"job")},className:"myButton mini outlined"},"A\xf1adir")),r.a.createElement(v.a,{as:"article",className:"infoSection"},this.state.experience&&this.state.experience.map((function(t,a){return r.a.createElement("article",{className:"infoTag",key:a},r.a.createElement("h6",null,t.place),r.a.createElement("p",null,t.duration),r.a.createElement("p",null,t.experienceInfo),r.a.createElement(S.a,{onClick:function(){return e.removeJob(a,t._id)},className:"myButton mini outlined"},"Borrar"))})))),r.a.createElement("section",{className:"everySection"},r.a.createElement("article",{className:"sectionHead"},r.a.createElement("h4",null,"Mis trabajos"),r.a.createElement("button",{onClick:function(){return e.handleModal(!0,"works")},className:"myButton mini outlined"},"A\xf1adir")),r.a.createElement(v.a,{as:"article",className:"workSection"},this.state.cv.whatIveDone.map((function(t,a){return r.a.createElement("article",{key:a,className:"workTag"},r.a.createElement("figure",{className:"workImage"},r.a.createElement("img",{key:a,src:t,alt:""})),r.a.createElement(S.a,{onClick:function(){return e.removeWork(a)},className:"myButton mini outlined"},"Borrar"))})))),r.a.createElement("button",{onClick:this.handleCv,className:"myButton"},"Guardar Cambios"),r.a.createElement(L.a,{className:"myModal",show:this.state.modalShow,onHide:function(){return e.handleModal(!1)}},this.displayModal(this.state.modalId),r.a.createElement("button",{className:"mini-link",onClick:function(){return e.handleModal(!1)}},"cerrar"))))}}]),a}(n.Component),B=(a(85),function e(){var t=this;Object(c.a)(this,e),this.createPublicUrl=function(e){return t.service.get("/".concat(e))},this.service=h.a.create({baseURL:"".concat("https://cuentame-mas.herokuapp.com/api","/sharing"),withCredentials:!0})}),F=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)(Object(O.a)({},n.state),{},Object(C.a)({},a,r)))},n.handleSubmit=function(e){e.preventDefault(),n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{title:n.state.portfolioTitle,companyName:n.state.companyName,url:"".concat(n.props.loggedInDash.name,"-for-").concat(n.state.companyName)})})},n.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("card_id"),a=document.getElementById(t);a.style.display="block",e.target.appendChild(a)},n.dragOverReceptor=function(e){e.preventDefault()},n.dragStartAvatar=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAvatar",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{avatar:t.id})})}),0)},n.dragStartWork=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAdd",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{works:[].concat(Object(M.a)(n.state.portfolio.works),[t.id])})})}),0)},n.dragStartSkill=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAdd",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{skills:[].concat(Object(M.a)(n.state.portfolio.skills),[t.id])})})}),0)},n.dragStartSocial=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAdd",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{socialMedia:[].concat(Object(M.a)(n.state.portfolio.socialMedia),[t.id])})})}),0)},n.dragStartEducation=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAdd",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{education:[].concat(Object(M.a)(n.state.portfolio.education),[t.id])})})}),0)},n.dragStartJob=function(e){var t=e.target;e.dataTransfer.setData("card_id",t.id),setTimeout((function(){t.style.display="none",t.className="newAdd",n.setState({portfolio:Object(O.a)(Object(O.a)({},n.state.portfolio),{},{experience:[].concat(Object(M.a)(n.state.portfolio.experience),[t.id])})})}),0)},n.dragOver=function(e){e.stopPropagation()},n.createPortfolio=function(){n.portfolioServices.createNew(n.props.loggedInDash._id,n.state.portfolio).then((function(e){return n.props.history.push("/sharing/".concat(e.data.url))})).catch((function(e){return new Error(e)}))},n.state={cv:"",education:"",experience:"",portfolio:{title:"",skills:[],socialMedia:[],companyName:"prueba",companyAvatar:"",education:[],experience:[],works:[],avatar:"",url:""}},n.cvServices=new I,n.infoServices=new P,n.portfolioServices=new U,n.urlServices=new B,n}return Object(s.a)(a,[{key:"getMyThings",value:function(){var e=this;this.cvServices.findOne(this.props.loggedInDash._id).then((function(t){return e.setState({cv:t.data})})).then((function(){return e.infoServices.findJobs(e.state.cv._id)})).then((function(t){return e.setState({experience:t.data})})).then((function(){return e.infoServices.findEducations(e.state.cv._id)})).then((function(t){return e.setState({education:t.data})})).catch((function(e){return new Error(e)}))}},{key:"componentDidMount",value:function(){this.getMyThings()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"portfolioCreator"},r.a.createElement("button",{className:"myButton",onClick:this.createPortfolio},"Crear Portfolio"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{name:"portfolioTitle",onChange:this.handleChange,className:"form-input",type:"text",placeholder:"introducre el titulo de tu portfolio"}),r.a.createElement("input",{name:"companyName",onChange:this.handleChange,className:"form-input",type:"text",placeholder:"introduce el nombre de la empresa"}),r.a.createElement("button",{type:"submit",className:"myButton"},"guardar datos")),r.a.createElement("section",{className:"allElements"},r.a.createElement("article",{className:"selector"},r.a.createElement("figure",{draggable:"true",onDragStart:this.dragStartAvatar,onDragOver:this.dragOver,id:this.props.loggedInDash.avatar,className:"selectorTag"},r.a.createElement("img",{src:this.props.loggedInDash.avatar,alt:""})),r.a.createElement("h6",{className:"sectionTitle"},"Mis trabajos"),this.state.cv&&this.state.cv.whatIveDone.map((function(t,a){return r.a.createElement("figure",{onDragStart:e.dragStartWork,onDragOver:e.dragOver,id:t,key:a,draggable:"true",className:"selectorTag"},r.a.createElement("img",{src:t,alt:""}))})),r.a.createElement("h6",{className:"sectionTitle"},"Mis Redes Sociales"),this.state.cv&&this.state.cv.socialMedia.map((function(t,a){return r.a.createElement("article",{onDragStart:e.dragStartSocial,onDragOver:e.dragOver,id:t,draggable:"true",key:a,className:"selectorTag"},r.a.createElement("p",null,t))})),r.a.createElement("h6",{className:"sectionTitle"},"Mis Skills"),this.state.cv&&this.state.cv.skills.map((function(t,a){return r.a.createElement("article",{onDragStart:e.dragStartSkill,onDragOver:e.dragOver,id:t,draggable:"true",key:a,className:"selectorTag"},r.a.createElement("p",null,t))})),r.a.createElement("h6",{className:"sectionTitle"},"Mi Eduacaci\xf3n"),this.state.education&&this.state.education.map((function(t,a){return r.a.createElement("article",{onDragStart:e.dragStartEducation,onDragOver:e.dragOver,id:t._id,draggable:"true",key:a,className:"selectorTag"},r.a.createElement("h6",null,t.place),r.a.createElement("p",null,t.duration),r.a.createElement("p",null,t.experienceInfo))})),r.a.createElement("h6",{className:"sectionTitle"},"Mi Experiencia"),this.state.experience&&this.state.experience.map((function(t,a){return r.a.createElement("article",{onDragStart:e.dragStartJob,onDragOver:e.dragOver,id:t._id,draggable:"true",key:a,className:"selectorTag"},r.a.createElement("h6",null,t.place),r.a.createElement("p",null,t.duration),r.a.createElement("p",null,t.experienceInfo))}))),r.a.createElement("article",{className:"portfolioConstructor"},r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"creatorHeader"}),r.a.createElement("figure",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"avatarReceptor"}),r.a.createElement("article",{className:"portfolioContent"},r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"endContainer"}),r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"endContainer"}),r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"endContainer"}),r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"endContainer"}),r.a.createElement("article",{onDrop:this.drop,onDragOver:this.dragOverReceptor,className:"endContainer workReceptor"}))))))}}]),a}(n.Component),R=(a(86),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"dashPage"},r.a.createElement(w,{setTheUser:e.setTheUser,loggedInDash:e.loggedInUser}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/dashboard",render:function(){return r.a.createElement(x,Object.assign({},e,{loggedInDash:e.loggedInUser}))}}),r.a.createElement(u.a,{path:"/dashboard/profile",render:function(){return r.a.createElement(T,Object.assign({},e,{setTheUser:e.setTheUser,loggedInDash:e.loggedInUser}))}}),r.a.createElement(u.a,{path:"/dashboard/cv/:id",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(u.a,{exact:!0,path:"/dashboard/portfolio",render:function(){return r.a.createElement(F,Object.assign({},e,{loggedInDash:e.loggedInUser}))}}))))}),_=(a(87),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={portfolio:{title:"",skills:[],socialMedia:[],companyName:"",companyAvatar:"",education:[],experience:[],works:[],avatar:"",url:"",owner:{}}},n.url=n.props.match.params.url,n.urlService=new B,n}return Object(s.a)(a,[{key:"getThisPortfolio",value:function(){var e=this;this.urlService.createPublicUrl(this.url).then((function(t){return e.setState({portfolio:t.data})})).catch((function(e){return new Error(e)}))}},{key:"componentDidMount",value:function(){this.getThisPortfolio()}},{key:"render",value:function(){return console.log("holi"),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{loggedInHome:this.props.loggedInUser,setTheUser:this.props.setTheUser}),r.a.createElement("main",{className:"portfolio-page"},this.state.portfolio?r.a.createElement(g.a,{className:"portfolio-info"},r.a.createElement("section",{className:"section-bkg"},r.a.createElement("h2",null,this.state.portfolio.owner.name," ",this.state.portfolio.owner.lastName),r.a.createElement("article",{className:"social-section"},r.a.createElement("span",{className:"bar"},"|"),this.state.portfolio.socialMedia.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"social-tag",key:t},e),r.a.createElement("span",{className:"bar"},"|"))}))),r.a.createElement("article",{className:"skill-section"},this.state.portfolio.skills.map((function(e,t){return r.a.createElement("p",{key:t,className:"skill-tag"},e)})))),this.state.portfolio.education?r.a.createElement("section",{className:"section-bkg"},r.a.createElement("h3",null,"Educaci\xf3n"),this.state.portfolio.education.map((function(e,t){return r.a.createElement("article",{className:"ed-tag",key:t},r.a.createElement("h6",null,e.place),r.a.createElement("small",null,e.duration),r.a.createElement("p",null,e.experienceInfo))}))):null,this.state.portfolio.experience?r.a.createElement("section",{className:"section-bkg"},r.a.createElement("h3",null,"Trayectoria profesional"),this.state.portfolio.experience.map((function(e,t){return r.a.createElement("article",{className:"job-tag",key:t},r.a.createElement("h6",null,e.place),r.a.createElement("small",null,e.duration),r.a.createElement("p",null,e.experienceInfo))}))):null,r.a.createElement("section",{className:"section-bkg"},r.a.createElement("h3",null,"Mis trabajos"),r.a.createElement("article",{className:"work-section"},this.state.portfolio.works.map((function(e,t){return r.a.createElement("figure",{key:t,className:"work-tag"},r.a.createElement("img",{src:e,alt:""}))}))))):r.a.createElement("h1",null,"cargando...")))}}]),a}(n.Component)),G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t},(function(){return console.log("El estado es",e.state)}))},e.fetchUser=function(){null===e.state.loggedInUser&&e.authService.isLoggedIn().then((function(t){return e.setTheUser(t.data)})).catch((function(){return e.setTheUser(!1)}))},e.state={loggedInUser:null},e.authService=new p,e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(N,Object.assign({},t,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(u.a,{path:"/signup",render:function(t){return r.a.createElement(y,Object.assign({},t,{setTheUser:e.setTheUser}))}}),r.a.createElement(u.a,{path:"/login",render:function(t){return r.a.createElement(k,Object.assign({},t,{setTheUser:e.setTheUser}))}}),r.a.createElement(u.a,{path:"/dashboard",render:function(t){return e.state.loggedInUser?r.a.createElement(R,Object.assign({},t,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser})):r.a.createElement(k,Object.assign({},t,{setTheUser:e.setTheUser}))}}),r.a.createElement(u.a,{path:"/sharing/:url",render:function(t){return r.a.createElement(_,Object.assign({},t,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser}))}})))}}]),a}(n.Component);o.a.render(r.a.createElement(f.a,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.1acc4182.chunk.js.map